/* Bootstrap overrides
-------------------------------------------------*/
	.navbar-header {
		float: none;
	}
	.container {
		width: 100%;
		max-width: $pageWidth;
		padding: 0 15px;
		@include respond-to(break2) {
			padding: 0 80px;
		}
		
	}
	.highlight-container {
		width: 100%;
		max-width: $pageWidth;
		padding: 0;
		@include respond-to(break2) {
			// keep inner bg color smaller
			padding: 0 40px;
		}
		.highlight-inner {
			background-color: $black30;
			// show highlight on mobile
			padding: 15px;

			// go below card colors
			position: relative;
			z-index: 0;
			
			@include respond-to(break2) {
				// show highlight color around box
				padding: 40px 40px;
			}
		}
		.section-title {
			@include margin-bottom(3.4);
		}
	}

	.last-container {
		section {
			margin-bottom: 2.5rem;
		}
	}

	// folklife - talk story
	.col-xs-half-image {
		@include respond-to(break2max) {
			float: left;
			width: 54%;
		}
	}
	.col-xs-half-details {
		@include respond-to(break2max) {
			float: left;
			width: 46%;
		}
	}
	.col-sm-half-image {
		@include respond-to(break2) {
			float: left;
			width: 54%;
		}
	}
	.col-sm-half-details {
		@include respond-to(break2) {
			float: left;
			width: 46%;
		}
	}

	// folklife homepage bottom collections
	.col-half {
		width: 50%;
		float: left;
		&:nth-of-type(2n + 1) {
			padding-right:$small-gutter;
			@include respond-to(break2) {padding-right:$medium-gutter;}
		}
		&:nth-of-type(2n) {
			padding-left:$small-gutter;
			@include respond-to(break2) {padding-left:$medium-gutter;}
		}
		// break every 2 cards so cards don't get hung
		&:nth-of-type(2n + 1) {
			clear:left;
		}
	}

	// folklife teach
	.col-xs-thirds {
		width: 33.33333%;
		float: left;
		&:nth-of-type(3n + 1) {
			padding-right:$small-gutter;
			@include respond-to(break2) {padding-right:$medium-gutter;}
		}
		&:nth-of-type(3n + 2) {
			padding-left:$small-gutter;
			padding-right:$small-gutter;
			@include respond-to(break2) {padding-left:$medium-gutter;}
			@include respond-to(break2) {padding-right:$medium-gutter;}
		}
		&:nth-of-type(3n + 3) {
			padding-left:$small-gutter;
			@include respond-to(break2) {padding-left:$medium-gutter;}
		}
		// break every 3 cards so cards don't get hung
		&:nth-of-type(3n + 1) {
			clear:left;
		}
	}
	.col-sm-thirds {
		@include respond-to(break2) {
			width: 33.33333%;
			float: left;
			&:nth-of-type(3n + 1) {
				padding-right:$medium-gutter;
			}
			&:nth-of-type(3n + 2) {
				padding-left:$medium-gutter;
				padding-right:$medium-gutter;
			}
			&:nth-of-type(3n + 3) {
				padding-left:$medium-gutter;
			}
			// break every 3 cards so cards don't get hung
			&:nth-of-type(3n + 1) {
				clear:left;
			}
		}
	}

/* Grid System
-------------------------------------------------- */
	// bootstrap gutter override!!!
	.row {
		margin-left: -$small-gutter;
		margin-right: -$small-gutter;
		@include respond-to(break2) {
			margin-left: -$medium-gutter;
			margin-right: -$medium-gutter;
		}
		@include respond-to(fullwidth) {
			margin-left: -20px;
			margin-right: -20px;
			margin-bottom:0;
		}
	}
	// bootstrap override default padding. Make it more responsive. Be specific enough to apply to our card system with 2 selectors
	// 3 selectors to win specificity war
	// [class*="col-"], .cards .card, .cards .image, .cards .details {
	[class*="col-"] {
		padding-left: $small-gutter;
		padding-right: $small-gutter;
		@include respond-to(break2) {
			padding-left: $medium-gutter;
			padding-right: $medium-gutter;
		}
		@include respond-to(fullwidth) {
			padding-left: 20px;
			padding-right: 20px;
		}
	}

/* #half sections
-------------------------------------------------- */
	$half-padding-mobile-section: 4rem;
	$half-padding-tablet-section: 2.7%;
	$half-padding-desktop-section: 4rem;

	@include respond-to(break2) {

		.half-section:nth-of-type(1) {
			padding-right: $half-padding-mobile-section;
			@include respond-to(break2) {
				padding-right: $half-padding-tablet-section;
			}
			@include respond-to(fullwidth) {
				padding-right: $half-padding-desktop-section;
			}
		}
		.half-section:nth-of-type(2) {
			padding-left: $half-padding-mobile-section;
			@include respond-to(break2) {
				padding-left: $half-padding-tablet-section;
			}
			@include respond-to(fullwidth) {
				padding-left: $half-padding-desktop-section;
			}
		}
	}

	.vertical-rule {
		display: none;
		@include respond-to(break2) {
			display: block;
			position: absolute;
			top: -1rem;
			right: -4.5px;
			height: 100%;
			width: 9px;
		// right border as image from http://stackoverflow.com/a/7948532
			background-image: url(/assets/images/hr/folklife-vr.png);
			background-position: right;
			background-repeat: no-repeat;
			background-size: 9px 100%;
		}
	}

/* General / Sections
-------------------------------------------------- */

	body {
		@include body-serif;
	}
	section {
		position: relative; // contain more link
		@include margin-bottom(2);
	}
	p {
		margin: 0;
	}
	ul {
		margin: 0;
	}
	.first-section {
		// padding-top:1.5rem;
		// @include respond-to(break2) {padding-top:2.6vw;}
		// @include respond-to(fullwidth) {margin-top:0;}
		.section-title {
			@include margin-top(-0.8);
		}
	}
	.section-title {
		@include md-slab;
		color: $black65;
		margin-bottom: 1.5rem;
		@include respond-to(break2) {
			margin-bottom: 2.6vw;
		}
		@include respond-to(fullwidth) {
			margin-bottom: 3.3rem; // 40px
		}
	}
	.main {
		.section-title {
			margin-bottom:2.2rem;
			@include respond-to(break2) {margin-bottom:1.3vw;}
			@include respond-to(fullwidth) {margin-bottom:2.2rem;} // 30 px
		}
	}
	.sidebar {
		color: $black70;
		@include margin-bottom(6); // keep from footer
		h3, &-section-title {
			@include lg-sans;
			color: $black50;
			margin-top: 0;
			// @include margin-bottom(1.1);
			@include margin-bottom(0); // override default h3
			@include padding-bottom(0.8);
			@include border(bottom);
		}
		h4, &-item-title {
			@include mini-sans;
			@include padding-top(0.8);
			color: $black50;
			margin: 0;
		}
		&-item {
			@include border(bottom);
			@include padding-bottom(1);
		}
		li:last-of-type {
			border-bottom: none;
			// @include margin-bottom(1.7);
		}
		.sidebar-highlight {
			&.active, &:hover {
				background-color: $black10;
			}
			// text stays same
			a:hover {
				color: $black70;
			}
		}
	}
	.sidebar-section {
		@include margin-bottom(2.4);
		// @include margin-bottom(3.2);
	}
	hr {
		margin: 0; // bootstrap reset
		border: none;
	}
	.hr {
		// from http://stackoverflow.com/a/24499695
		display:block;
		border:0px;
		background-size: 100% 100%;
		background-repeat: no-repeat;
	}
	.thick-hr {
		height:11px;
		background-image:url(/assets/images/hr/hr.jpg);
		background-image:url(/assets/images/hr/hr.png);
		@include respond-to(break2) {
			margin-top:0;
		}
		@include margin-bottom(5.2);
		// margin-bottom:2rem;
	}
	.half-hr {
		margin-bottom:2.5vw;
		@include respond-to(break2) {margin-bottom:1.3vw;}
		@include respond-to(fullwidth) {margin-bottom:2rem;}
	}
	.thin-hr, .thin-hr-svg {
		
		margin-top: 1vw;
		margin-bottom: 3vw;
		@include respond-to(break2) {
			margin-top:0.5vw;
			margin-bottom: 2.4vw;
		}
		@include respond-to(fullwidth) {
			margin-top:0.8rem;
			margin-bottom:3.75rem;
		}
	}
	.thin-hr {
		height:5px;
		background-image:url(/assets/images/hr/hr--thin.png);
		background-repeat: no-repeat;
		background-size: 100%;
	}
	.thin-hr-svg {
		// make inline with js, from http://stackoverflow.com/questions/24933430/img-src-svg-changing-the-fill-color
		// color: blue;
		font-size: 1px; // make smaller
		height: 5px; // for older ie
		path {
			fill: $fs-teal;
			fill: white;
		}
	}
	.mobile-only-hr {
		margin-bottom: 1rem;
	}

	// sub pages
	.title-bar {
		// bootstrap reset
		padding: 0;
		margin: 0;
		border: none;
		background-color: $black65; // default
		.title-height {
			// height:12vw;
			// @include respond-to(break2) {height:4.2vw;}
			// @include respond-to(fullwidth) {height:66px;}	
		}
		&-hr {
			margin-top: -1.6rem;
		}
		@include margin-bottom(4);
	}
	.page-title {
		color: white;
		@include xl-slab;
		// margin-top:1.4vw;
		// @include respond-to(break2) {margin-top:0.6vw;}
		// @include respond-to(fullwidth) {margin-top:0.9rem;}
		@include margin-top(1.3);
		@include margin-bottom(1.3);
	}
	a .page-title {
		color: white; // override a color
		&:hover {
			// custom hover, getting variable from top of main scss file, e.g. festival.scss
			color: $hover;
		}
	}

	.subcollection {
		@include padding-bottom(1.5); // not margin b/c margin carries over on column breaks
		display: inline-block; // prevent column overhang
	}

/* Folkways Magazine Article and Lesson Plans Sidebar
-------------------------------------------------- */
	.sidebar-audio {
		@include margin-bottom(4);
		.sidebar-title {
			@include xl-sans;
			font-weight: 600;
			@include margin-bottom(3.7);
			line-height: 1 !important; // mq override
		}
		.sidebar-card {
			@include margin-bottom(4);
			.title {
				@include margin-top(0);
				line-height: 1.3;
				@include margin-bottom(0.2);
			}
			.details-inner {
				@include respond-to(break2) {
					padding-top:0; // horizontal card
				}
			}
		}
		.table-hover > tbody > tr:hover {
			background-color: $black10; // bootstrap override
		}
		.track {
			@include sm-sans;
		}
		.track-play-button {
			@include left(2);
		}
		.track-title {
			font-weight: 600;
		}
		.track-action {
			@include mini-sans;
			text-transform: none;
		}
	}

	// Sidebar Video
	.sidebar-video, .sidebar-album {
		.details-inner {
			@include padding-top(2);
		}
		.title {
			@include xl-sans;
			font-weight: 600;
		}
	}

/* Collection page
 * as seen at Folklife Archives page
 -------------------------------------------------- */
	.collection-page {
		.blog-article-card {
			@include margin-bottom(0.8);
		}
		.details-inner {
			@include padding-top(0.8);
		}
	}

/* #remodal
-------------------------------------------------- */
	.remodal-description {
		@include md-sans;
	}

/* #Become a Member
-------------------------------------------------- */
	// as seen on folkways homepage for becoming a member and support
	.highlight-bar {
		background-color: $black20;
		@include padding-top(4);
		@include padding-bottom(4);
		@include margin-bottom(7.2); // 80px
	}
	.become-a-member {
		position: relative; // so absolute .copy can be correct width
		@include respond-to(break2max) {
			position: static !important;
			margin-bottom:5vw;
		}
		&-inner {
			position: relative;
			background-color: white;
		}
		.image, .copy {
			float: left;
		}
		.image {
			position: relative; // contain vert child
			@include md-slab;
			@include margin-bottom(0);
			color: white;
			text-align: center;
			width: 50%;
			@include respond-to(break2) {
				width: 53%;
			}

		}
		&-image-text {
			width: 100%;
		}
		.copy {
			@include lg-sans;
			text-align: center;
			@include respond-to(break2max) {
				width: 50%;
				font-size: 4vw;
			}
			&-inner {
				@include respond-to(break2max) {
					width: 50%;
					padding: 1.5rem 0;
				}
				// make up for line-height
				@include respond-to(break2) {
					width: 47%;
					margin-top:-0.1vw;
				}
				@include respond-to(break2full) {
					font-size: 1.9vw;
				}
				@include respond-to(fullwidth) {margin-top:-0.6rem;}
			}
		}
	}

/* #Support Us
-------------------------------------------------- */
	.above-support-hr {
		@include margin-bottom(3);
	}
	.support-folkways {
		.support {
			border: none;
		}
		.support-copy {
			@include respond-to(break2max) {
				padding-top: 1.8vw;
			}
			@include respond-to(fullwidth) {
				height: 15.6rem;
			}
		}
	}
	.support {
		background-color: white;
		@include border(all, 2px, $black40);
		position: relative; // contain support button
		&-copy, &-button {
			width: 50%;
			float: left;
			@include respond-to(break2) {
				display: inline-block;
				vertical-align: top;
			}
		}
		&-copy {
			@include respond-to(break2max) {
				font-size: 2.6vw;
				// font-size: 1.35rem;
				// height: 10.5rem;
				// height: 8.5rem;
				height: 5vw; // responsive for text
				padding-top: 1.2vw; // responsive for sizing at mobile
				// padding-left: 2vw; // responsive for sizing at mobile
			}
			@include respond-to(break2) {
				width: 46.45%; // 314px / 676px
				line-height: 1.2;
				height: 9.8vw;
				padding-top: 1vw;
			}
			@include respond-to(fullwidth) {
				font-size: 2rem;
				height: 15rem;
				padding-top: 0.9rem;
			}
			@include padding-top(1.5);
			@include padding-right(2);
			@include padding-bottom(2);
			@include padding-left(2);
			

		}
		&-button {
			background-color: $black50;
			@include md-slab;
			margin-bottom:0;
			padding: 3vw;
			color: white;
			text-align: center;
			@include respond-to(break2max) {
				// height: 8.5rem;
				height: 19vw; // responsive for text
			}
			@include respond-to(break2) {
				padding: 0;
				@include vertically-align-parent;
				width: 53.55%; // 100 - 46.45%
				// height: 100%;
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
			}
			.button-inner {
				@include vertically-align;
			}
		}
	}
	.button-inner {
		@include respond-to(break2max) {
			font-size: 4vw;
			// font-size: 3.8vw;
			// font-size: 1.3rem;
		}
		@include respond-to(break2) {
			// line-height: 1.5;
			// @include vertically-align;
			line-height: 1.1;
		}
	}

/* #Newsletter Signup
-------------------------------------------------- */
	.newsletter-signup-section, .support-section, .support-folkways {
		@include body-sans;
	}
	.newsletter-signup-section, .support-section {
		margin-bottom: 2rem;
		@include respond-to(break2) {
			margin-bottom: 4rem;
		}
	}
	.newsletter-signup-copy {
		background-color: $black10;
		@include padding-top(1.9);
		@include padding-right(2);
		@include padding-left(2);
		@include padding-bottom(2);
		@include sm-sans;
		@include respond-to(break2full) {
			font-size: 1.2vw;
		}
	}
	.magazine-page, .magazine-article-page {
		.newsletter-signup-copy {
			background-color: white;
		}
	}
	.newsletter-signup-form {
		width: 100%;
	}
	.newsletter-input {
		background-color: $black20;
		width: 100%;
		@include padding-right(2);
		@include padding-left(2);
		@include email-newsletter;
		height: 5rem;
		@include respond-to(break2) {
			height: 4.8vw;
		}
		@include respond-to(fullwidth) {
			height: 7.5rem;
			padding-bottom: 2rem;
		}
	}

	// Short version 12.18
	.newsletter-signup-wrapper {
		@include margin-bottom(4);
	}
	.short-newsletter-signup {
		float:left;
		width: 100%;
		@include respond-to(break2) {
			width: 50%;
			height: 5vw;
		}
		@include respond-to(fullwidth) {
			height: 8rem;
		}
		form, input {
			@include height(7);
		}
		input {
			font-weight: 500;
		}
		.newsletter-signup, .newsletter-signup-copy, form, input {
			@include respond-to(break2) {
				height: 100%;
			}
		}
		.newsletter-signup-copy {
			@include body-sans;
			@include padding-top(1.5);
			@include padding-bottom(2);
			@include respond-to(break2) {
				@include padding-bottom(1);
			}
			@include respond-to(fullwidth) {
				font-size: 2rem;
			}
		}
	}

/* #Custom select dropdown
* from http://hernansartorio.com/jquery-nice-select/
-------------------------------------------------- */

/* Plus icons for figures with figcaptions
-------------------------------------------------- */
	// Images with captions
	figure {
		position: relative; // contain figcaption
	}
	figcaption {
		position: absolute;
		@include padding-top(1.5);
		@include padding-right(1);
		@include padding-bottom(1.5);
		@include padding-left(2);
		bottom: 0;
		left: 0;
		color: white;
		background-color: rgba($black65, 0.9);
		// @include sm-sans;
		@include mini-sans;
		text-transform: capitalize;
		line-height: 1.4 !important;
		width: 100%;

		cursor: pointer;

		visibility: hidden; // initial hide
		// @include width(2); // only show enough for plus sign
		// @include height(2); // only show enough for plus sign
		// display: none; // initial hide
		// plus sign
		@include respond-to(break2max) {
			min-height: 4rem;
		}
		&:after {
			display: block;
			content: "+";
			position: absolute;
			bottom: 0;
			right: 0;
			background-color: $black50;
			color: white;
			// @include padding-top(0);
			@include padding-right(0.5);
			@include padding-bottom(0.8);
			@include padding-left(0.5);
			@include margin-top(-5);
			@include sans-plus-icon;
			line-height: 0.8 !important;
			visibility: visible; // initial show, from http://stackoverflow.com/a/4912823/4504073
			@include respond-to(break2max) {
				width: 4rem;
				height: 4rem;
				font-size: 3rem;
				text-align: center;
				padding-top: 0.5rem;
			}
		}
		// minus sign. Need to use other pseudo element b/c chrome not updating content from :after
		&.minus-sign:after {
			display: none;
		}
		&.minus-sign:before {
			content: "–";
			position: absolute;
			bottom: 0;
			right: 0;
			@include right(0.5);
			color: white;
			// @include padding-top(0);
			@include padding-right(0.2);
			@include padding-bottom(0.8);
			@include padding-left(0.5);
			@include margin-top(-5);
			@include sans-plus-icon;
			line-height: 0.8 !important;
			visibility: visible; // initial show, counteracts parent visiblity hidden. From http://stackoverflow.com/a/4912823/4504073
			@include respond-to(break2max) {
				width: 4rem;
				height: 4rem;
				font-size: 3rem;
				text-align: center;
				padding-top: 0.5rem;
			}
		}
	}
	// ol, ul {
	// 	figure {
	// 		// position: absolute;
	// 		@include margin-left(-5);
	// 	}
	// }

/* Dropdown Select
* multi level select, from http://stackoverflow.com/a/9101168
-------------------------------------------------- */
	@mixin dropdown-arrow {
		content: '\62';
		display: block;
		position: absolute;
		font-family: "vd-icons" !important;
		border: none; // remove default arrow
		-webkit-transform: rotate(90deg);
		-moz-transform: rotate(90deg);
		transform: rotate(90deg);
		font-size: 2.5rem;
		// override nice-select defaults
		height: auto;
		// top:0.8rem;
		@include top(0.8);
		// @include right(1.8);
		@include margin-top(0);
		top: -0.1rem;
		right:1rem;
		
		@include respond-to(break2) {
			transform-origin: 0.9vw;
			font-size: 1.5vw;
			top: 0.4vw;
			right:0.6vw;
		}
		@include respond-to(fullwidth) {
			transform-origin: 15px 15px;
			font-size: 2.5rem;
			top: 0.5rem;
			right: 1rem;
		}
	}
	.dropdown-wrapper {
		@include sm-sans;
		font-weight: 600;
		color: $black60;
	}
	.dropdown:hover, .first-level-dropdown li:hover {
		background-color: $black20;
		@include respond-to(break2) {
			// show next menu on hover
			& > ul {
				display: block;
			}
			.first-level-dropdown-title:after {
				-webkit-transform: rotate(-90deg);
				-moz-transform: rotate(-90deg);
				transform: rotate(-90deg);
			}	
		}
	}
	.dropdown {
		background-color: white;
		position: relative;
		cursor: pointer;
		
	}
	.first-level-dropdown {
		display: none; // initial hide
		position: absolute;
		z-index: 2;
		width: 100%;
		background-color: white;
		font-weight: 400;
		line-height: 1.7;
		li {
			position: relative; // contain arrow
			@include padding-left(1);
		}
	}
	.second-level-dropdown, .third-level-dropdown {
		display: none;
		background-color: white;
		@include respond-to(break2) {
			position: absolute;
			top:0;
			right: -100%;
			width: 100%;	
		}
	}
	.third-level-dropdown {
		li:after {
			display:none;
		}
	}
	
	.first-level-dropdown-title, .filter-button {
		@include padding-top(0.7);
		@include margin-top(1.5); // 19px
		@include height(3.7); // 35px
		height: 3rem; // mobile override
		@include padding-left(1);
	}
	.first-level-dropdown-title {
		&:after {
			@include dropdown-arrow;
		}
	}
	.second-level-dropdown-title, .third-level-dropdown-title {
		&:after {
			@include dropdown-arrow;
			-webkit-transform: rotate(0deg);
			-moz-transform: rotate(0deg);
			transform: rotate(0deg);
			color: $black40;
			font-size: 2rem;
			top:-0.5rem;
			right:1rem;
			@include respond-to(break2) {
				font-size: 1.3vw;
				top: 0vw;
				right:0.6vw;
			}
			@include respond-to(fullwidth) {
				font-size: 2rem;
				top: -0.3rem;
				right: 1rem;
			}
		}
	}
	.dropdown-title-is-open {
		&:after {
			-webkit-transform: rotate(-90deg);
			-moz-transform: rotate(-90deg);
			transform: rotate(-90deg);
		}	
	}
/* Search, Festival Past Festival Programs
-------------------------------------------------*/
	

	// Search only
	.search-page, .past-festivals-page {
		.thin-hr-svg {
			padding:0;
			margin-top:0;
			@include margin-bottom(0.5);
			path {
				fill: $black30;
			}
		}
		.search-query-title {
			@include xl-slab;
			text-transform: capitalize;
			@include margin-bottom(2.4);
		}
		.highlight-bar {
			background-color: $black10;
			@include padding-top(1.6); // 20px with line height
			@include padding-bottom(4);
			@include margin-bottom(4);
			// for click outside
			position: relative;
			z-index: 10;
		}
		.filter-more-band {
			display: none; // initial hide
			@include respond-to(break2) {
				@include padding-top(2);
			}
		}
		.filter-by-title {
			@include nav-header;
			color: $black60;
			font-size:5vw;
			@include respond-to(break2) {font-size:1.15vw;}
			@include respond-to(fullwidth) {font-size:1.8rem;}
		}
		.filter-button {
			background-color: $black20;
			@include border;
			text-align: center;
			cursor: pointer;
			padding-left:0;
		}
	}

/* Hide Ios Play button
-------------------------------------------------*/
	// .home-video iframe {width:100%;height:100%;position: absolute;top:0;right:0;bottom:0;left:0;}
	// hide iOS play button from http://stackoverflow.com/questions/8911247/hide-iphone-html5-video-play-button
	video::-webkit-media-controls {
	  display:none !important;
	}

	// Apple play button changed again
	// from http://stackoverflow.com/a/37553385
	/* This used to work for parent element of button divs */
	/* But it is not enough now, below dont hide play button parent div */

	*::-webkit-media-controls-panel {
	  display: none!important;
	  -webkit-appearance: none;
	}

	/* Old shadow dom for play button */

	*::--webkit-media-controls-play-button {
	  display: none!important;
	  -webkit-appearance: none;
	}

	/* New shadow dom for play button */

	*::-webkit-media-controls-start-playback-button {
	  display: none!important;
	  -webkit-appearance: none;
	}