/* Bootstrap overrides
-------------------------------------------------*/

.navbar-header {
	float: none;
}
.container {
	width: 100%;
	max-width: $pageWidth;
	padding: 0 15px;
	@include respond-to(break2) {
		padding: 0 80px;
	}
	
}
.highlight-container {
	width: 100%;
	max-width: $pageWidth;
	padding: 0;
	@include respond-to(break2) {
		// keep inner bg color smaller
		padding: 0 40px;
	}
	.highlight-inner {
		background-color: $black30;
		// show highlight on mobile
		padding: 15px;

		// go below card colors
		position: relative;
		z-index: 0;
		
		@include respond-to(break2) {
			// show highlight color around box
			padding: 40px 40px;
		}
	}
	.section-title {
		@include margin-bottom(3.4);
	}
}

p {margin: 0;}
ul {margin: 0;}


.container--xl {
	// max-width: $pageWidth + 80;
	@include respond-to(break2) {
		padding: 0 40px;
	}
}

.last-container {
	section {
		margin-bottom: 2.5rem;
	}
}

// folklife - talk story
.col-xs-half-image {
	float: left;
	width: 54%;
}
.col-xs-half-details {
	float: left;
	width: 46%;
}


// folklife homepage bottom collections
.col-half {
	width: 50%;
	float: left;
	&:nth-of-type(2n + 1) {
		padding-right:$gutter--small;
		@include respond-to(break2) {padding-right:$gutter--medium;}
	}
	&:nth-of-type(2n) {
		padding-left:$gutter--small;
		@include respond-to(break2) {padding-left:$gutter--medium;}
	}
	// break every 2 cards so cards don't get hung
	&:nth-of-type(2n + 1) {
		clear:left;
	}
}

// folklife teach
.col-thirds {
	width: 33.33333%;
	float: left;
	&:nth-of-type(3n + 1) {
		padding-right:$gutter--small;
		@include respond-to(break2) {padding-right:$gutter--medium;}
	}
	&:nth-of-type(3n + 2) {
		padding-left:$gutter--small;
		padding-right:$gutter--small;
		@include respond-to(break2) {padding-left:$gutter--medium;}
		@include respond-to(break2) {padding-right:$gutter--medium;}
	}
	&:nth-of-type(3n + 3) {
		padding-left:$gutter--small;
		@include respond-to(break2) {padding-left:$gutter--medium;}
	}
	// break every 3 cards so cards don't get hung
	&:nth-of-type(3n + 1) {
		clear:left;
	}
}


/* Grid System
-------------------------------------------------- */
  // gutters
  // $gutter: 1rem;
  // $gutterx2: 2rem;
  // $one-third-gutter: 0.3333rem;
  // $half-gutter: 0.5rem;
  // $two-thirds-gutter: 0.6667rem;
  // $vgut: 1.5rem; // bottom gutter
  
  // $half: 50%;
  // $four: 33.33333%;
  // $six: 50%;
  // $eight: 66.66667%;

	// bootstrap gutter override!!!
	
	
	.row {
		margin-left: -$gutter--small;
		margin-right: -$gutter--small;
		@include respond-to(break2) {
			margin-left: -$gutter--medium;
			margin-right: -$gutter--medium;
		}
		@include respond-to(fullwidth) {
			margin-left: -20px;
			margin-right: -20px;
			margin-bottom:0;
		}
	}
	// bootstrap override default padding. Make it more responsive. Be specific enough to apply to our card system with 2 selectors
	// 3 selectors to win specificity war
	// [class*="col-"], .cards .card, .cards .image, .cards .details {
	[class*="col-"] {
		padding-left: $gutter--small;
		padding-right: $gutter--small;
		@include respond-to(break2) {
			padding-left: $gutter--medium;
			padding-right: $gutter--medium;
		}
		@include respond-to(fullwidth) {
			padding-left: 20px;
			padding-right: 20px;
		}
	}

/* #half sections
-------------------------------------------------- */
	$half-padding-mobile-section: 4rem;
	$half-padding-tablet-section: 2.7%;
	$half-padding-desktop-section: 4rem;

	.half-section .details {
		// @include padding-top(1.4); // smaller padding for smaller sections
		
	}

	@include respond-to(break2) {

		.half-section:nth-of-type(1) {
			padding-right: $half-padding-mobile-section;
			@include respond-to(break2) {
				padding-right: $half-padding-tablet-section;
			}
			@include respond-to(fullwidth) {
				padding-right: $half-padding-desktop-section;
			}
		}
		.half-section:nth-of-type(2) {
			padding-left: $half-padding-mobile-section;
			@include respond-to(break2) {
				padding-left: $half-padding-tablet-section;
			}
			@include respond-to(fullwidth) {
				padding-left: $half-padding-desktop-section;
			}
		}
	}

	.vertical-rule {
		display: none;
		@include respond-to(break2) {
			display: block;
			position: absolute;
			top: -1rem;
			right: -4.5px;
			height: 100%;
			width: 9px;
		// right border as image from http://stackoverflow.com/a/7948532
			background-image: url(/assets/images/folklife-vr.png);
			background-position: right;
			background-repeat: no-repeat;
			background-size: 9px 100%;
			// margin-right: -1rem;
		}
	}

/* Special Event - on.festival / Learn - folkways
-------------------------------------------------- */
	.special-event {
		@include respond-to(break2max) {
			margin-bottom: 5vw;
		}
	}
	.special-event-image {
		@include col;
		width: 53%; // 361px/682px
	}
	.special-event-textbox {
		@include col;
		width: 47%; // 281/682				
		// border-top: 2px solid $black65;
		padding-left:3vw;
		@include respond-to(break2) {padding-left:1.3vw;}
		@include respond-to(fullwidth) {padding-left:2rem;}
		.time {
			@include date;
		}
		.title {
			@include sans-md;
			font-weight: 600;
		}
		.description {
			@include sans-sm;
			font-weight: 400;
		}
	}

/* General / Sections
-------------------------------------------------- */

	body {
		// padding-top: 100px; // clear fixed header
		// @include body-text;
		@include serif-body;
	}
	// h3 {
		// @include h3;
	// }
	section {
		// margin-bottom: 0;
		position: relative; // contain more link
		// @include respond-to(break2) {
		// 	margin-bottom: 2.3vw;
		// 	// margin-bottom: 4.6vw;
		// }
		// @include respond-to(fullwidth) {
		// 	margin-bottom: 2rem; // less because rely on content above to have own padding
		// }
		@include margin-bottom(2);

	}
	section li {
		@include respond-to(break2max) {
			margin-bottom: 1.5rem;
		}
	}
	.first-section {
		padding-top:1.5rem;
		@include respond-to(break2) {padding-top:2.6vw;}
		@include respond-to(fullwidth) {padding-top:4rem;}
	}

	.main {
		.section-title {
			margin-bottom:2.2rem;
			@include respond-to(break2) {margin-bottom:1.3vw;}
			@include respond-to(fullwidth) {margin-bottom:2.2rem;} // 30 px
		}
	}
	.sidebar {
		color: $black70;	
		@include margin-bottom(6); // keep from footer
		h3, &-section-title {
			@include sans-lg;
			color: $black50;
			@include padding-bottom(1);
			@include margin-top(4);
			@include padding-bottom(0);
			@include margin-bottom(1.1);
		}
		h4, &-item-title {
			@include sans-mini;
			@include margin-top(0.6);
			color: $black50;
			margin: 0;
		}
		&-item {
			border-top: 1px solid $black50;
			// margin-bottom:0.5rem;
			// @include respond-to(break2) {margin-bottom:0.4vw;}
			// @include respond-to(fullwidth) {margin-bottom:0.8rem;}
			@include padding-bottom(1);
		}
		.sidebar-highlight {
			&.active, &:hover {
				background-color: $black10;
			}
			// text stays same
			a:hover {
				color: $black70;
			}
		}
	}
	hr {
		margin: 0; // bootstrap reset
		border: none;
	}
	.hr {
		// from http://stackoverflow.com/a/24499695
		display:block;
		border:0px;
		background-size: 100% 100%;
		background-repeat: no-repeat;
	}
	.thick-hr {
		height:11px;
		background-image:url(/assets/images/hr.jpg);
		// margin-bottom: 5vw;
		// margin-top: 10vw;
		@include respond-to(break2) {
			// margin-bottom: 2.6vw;
			margin-top:0;
		}
		@include margin-bottom(5.2);
	}
	.half-hr {
		margin-bottom:2.5vw;
		@include respond-to(break2) {margin-bottom:1.3vw;}
		@include respond-to(fullwidth) {margin-bottom:2rem;}
	}
	.thin-hr {
		height:5px;
		background-image:url(/assets/images/hr--thin.png);
		// background-image:url(/assets/images/hr--thin4.png);
		background-repeat: no-repeat;
		background-size: 100%;
		margin-top: 1vw;
		margin-bottom: 3vw;
		@include respond-to(break2) {
			margin-top:0.5vw;
			margin-bottom: 2.4vw;
		}
		@include respond-to(fullwidth) {
			margin-top:0.8rem;
			margin-bottom:3.75rem;
		}
	}
	.mobile-only-hr {
		margin-bottom: 1rem;
	}

	// sub pages
	.title-bar {
		// bootstrap reset
		padding: 0;
		margin: 0;
		border: none;
		.title-height {
			height:12vw;
			@include respond-to(break2) {height:4.2vw;}
			@include respond-to(fullwidth) {height:66px;}	
		}
		// .container {
			// height: 100%; // so vertically center works
		// }
		&-hr {
			margin-top: -1.6rem;
		}
	}
	.page-title {
		color: white;
		@include slab-xl;
		margin-top:1.4vw;
		@include respond-to(break2) {margin-top:0.6vw;}
		@include respond-to(fullwidth) {margin-top:0.9rem;}

		// @include vertically-align;
	}
	a .page-title {
		color: white; // override a color
	}

	.copy-columns {
		@include respond-to(break2) {
			-webkit-column-count: 2; // Chrome, Safari, Opera
			-moz-column-count: 2; // Firefox
			column-count: 2;


			-webkit-column-gap: 40px; /* Chrome, Safari, Opera */
			-moz-column-gap: 40px; /* Firefox */
			column-gap: 40px;
			
			.card {
				-webkit-column-break-inside: avoid;
				-moz-column-break-inside: avoid;
				column-break-inside: avoid;
				
				-webkit-break-inside: avoid;
				-moz-break-inside: avoid;
				break-inside: avoid;
			}
		}
	}

	.subcollection {
		@include padding-bottom(1.5); // not margin b/c margin carries over on column breaks
		display: inline-block; // prevent column overhang
	}

/* #remodal
-------------------------------------------------- */
	.remodal-description {
		@include sans-md;
	}

/* #Become a Member
-------------------------------------------------- */
	// as seen on folkways homepage for becoming a member and support
	.highlight-bar {
		background-color: $black20;
		@include padding-top(4);
		@include padding-bottom(4);
		@include margin-bottom(7.2); // 80px
	}
	.become-a-member {
		position: relative; // so absolute .copy can be correct width
		@include respond-to(break2max) {
			position: static !important;
			margin-bottom:5vw;
		}
		&-inner {
			position: relative;
		}
		.image, .copy {
			float: left;
			width: 50%;
		}
		.image {
			position: relative; // contain vert child
			@include section-title;
			@include margin-bottom(0);
			color: white;
			text-align: center;
		}
		.copy {
			background-color: white;
			@include sans-lg;
			left: 50%;
			text-align: center;
			&-inner {
				@include respond-to(break2max) {
					width: 100%;
				}
				// make up for line-height
				@include respond-to(break2) {
					width: 100%;
					margin-top:-0.1vw;
				}
				@include respond-to(fullwidth) {margin-top:-0.6rem;}
			}
		}
	}

/* #Support Us
-------------------------------------------------- */
	.support-folkways {
		.support {
			border: none;
		}
	}
	.support-section {
		// @include vertically-align-grandparent;
	}
	.support {
		background-color: white;
		@include border(all, 2px, $black40);
		position: relative; // contain support button
		&-copy, &-button {
			@include respond-to(break2) {
				display: inline-block;
				vertical-align: top;
			}
		}
		&-copy {
			@include respond-to(break2) {
				width: 46.45%; // 314px / 676px
				line-height: 1.25;
				height: 9.6vw;
			}
			@include respond-to(break2full) {
				font-size: 1.2vw;
			}
			@include padding-top(1.6);
			@include padding-right(2);
			@include padding-bottom(2);
			@include padding-left(2);
			@include respond-to(fullwidth) {
				height: 14rem;
			}

		}
		&-button {
			background-color: $black40;
			@include section-title;
			margin-bottom:0;
			padding: 3vw;
			color: white;
			text-align: center;
			@include respond-to(break2) {
				padding: 0;
				@include vertically-align-parent;
				width: 53.55%; // 100 - 46.45%
				// height: 100%;
				position: absolute;
				top: 0;
				right: 0;
				bottom: 0;
			}
		}
	}
	.button-inner {
		line-height: 1.5;
		@include respond-to(break2) {
			@include vertically-align;
			line-height: 1.1;
		}
	}

/* #Newsletter Signup
-------------------------------------------------- */
	.newsletter-signup-section, .support-section, .support-folkways {
		@include sans-caption;
	}
	.newsletter-signup-section, .support-section {
		margin-bottom: 2rem;
		@include respond-to(break2) {
			margin-bottom: 4rem;
		}
	}
	.newsletter-signup-copy {
		background-color: $black10;
		@include padding-top(1.9);
		@include padding-right(2);
		@include padding-left(2);
		@include padding-bottom(2);
		@include sans-caption;
		@include respond-to(break2full) {
			font-size: 1.2vw;
		}
	}
	.newsletter-signup-form {
		width: 100%;
	}
	.newsletter-input {
		background-color: $black20;
		width: 100%;
		@include padding-right(2);
		@include padding-left(2);
		@include email-newsletter;
		height: 18vw;
		@include respond-to(break2) {
			// height: 3.95vw;
			height: 4.5vw;
		}
		@include respond-to(fullwidth) {
			height: 6.1rem;
			padding-bottom: 2rem;
		}
	}

	// Short version 12.18
	.newsletter-signup-wrapper {
		@include margin-bottom(4);
	}
	.newsletter-signup--short {
		float:left;
		// @include height(8);
		width: 100%;
		// height: 14vw;
		@include respond-to(break2) {
			width: 50%;
			height: 5vw;
		}
		@include respond-to(fullwidth) {
			height: 8rem;
		}
		form, input {
			height: 7rem;
		}
		.newsletter-signup, .newsletter-signup-copy, form, input {
			@include respond-to(break2) {
				height: 100%;
			}
		}

		.newsletter-signup-copy {
			@include sans-sm;
			@include padding-top(1.5);
			@include padding-bottom(2);
			@include respond-to(break2) {
				@include padding-bottom(1);
			}
		}
	}